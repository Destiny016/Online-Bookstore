<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Book Nest - Browse Books</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Navigation -->
  <nav>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="genres.html">Genres</a></li>
    <li><a href="books.html">Books</a></li>
    <li id="accountLink"><a href="login.html">Sign Up / Login</a></li>
    <li><a href="cart.html">Cart (<span id="cartCount">0</span>)</a></li>
  </ul>
</nav>


  <!-- Main Content -->
  <main>
    <h1>ðŸ“š Browse Books</h1>

    <!-- Search Bar -->
    <input
      type="search"
      id="searchBar"
      placeholder="Search books by title..."
      aria-label="Search books"
    />

    <!-- Book Gallery -->
    <section class="book-gallery" id="bookGallery"></section>
  </main>

  <!-- Footer -->
  <footer>
    &copy; 2025 Book Nest. All rights reserved.
  </footer>

  <script>
    const books = [
      { id: 101, title: "The Long Game", price: 11.99, genre: "Romance", img: "images/browse/book1.jpg" },
      { id: 102, title: "Children Of Blood and Bone", price: 13.50, genre: "Fantasy", img: "images/browse/book2.jpg" },
      { id: 103, title: "Mixed Signals", price: 9.99, genre: "Romance", img: "images/browse/book3.jpg" },
      { id: 104, title: "These Fragil Graces This Fugitive Heart", price: 12.49, genre: "Drama", img: "images/browse/book4.jpg" },
      { id: 105, title: "This Was Our Pact", price: 15.00, genre: "Children", img: "images/browse/book5.jpg" },
      { id: 106, title: "The Age of Atlantic Revolution", price: 14.25, genre: "Non-Fiction", img: "images/browse/book6.jpg" },
      { id: 107, title: "All That She Carried", price: 10.99, genre: "Non-Fiction", img: "images/browse/book7.jpg" },
      { id: 108, title: "Beatrice's Last Smile", price: 13.75, genre: "Classics", img: "images/browse/book8.jpg" },
      { id: 109, title: "The Girl On the Train", price: 16.30, genre: "Thriller", img: "images/browse/book9.jpg" },
      { id: 110, title: "Lord of the Flies", price: 8.49, genre: "Classics", img: "images/browse/book10.jpg" },
      { id: 1, title: "The Beloved Girls", price: 15.99, genre: "Drama", img: "images/books/book1/cover.jpg" },
      { id: 2, title: "Harry Potter and The Cursed Child", price: 12.50, genre: "Fantasy", img: "images/books/book2/cover.jpg" },
      { id: 3, title: "Everything Is Not Peachey", price: 9.99, genre: "Romance", img: "images/books/book3/cover.jpg" },
      { id: 4, title: "James and the Giant Peach", price: 20.00, genre: "Children", img: "images/books/book4/cover.jpg" },
      { id: 5, title: "The Great Gatsby", price: 8.75, genre: "Classics", img: "images/books/book5/cover.jpg" },
      { id: 6, title: "The Goldfinch", price: 14.00, genre: "Drama", img: "images/books/book6/cover.jpg" },
      { id: 7, title: "1984", price: 17.25, genre: "Dystopian", img: "images/books/book7/cover.jpg" },
      { id: 8, title: "The Hunger Games", price: 13.50, genre: "Dystopian", img: "images/books/book8/cover.jpg" },
      { id: 9, title: "The Shadow Cell", price: 7.99, genre: "Thriller", img: "images/books/book9/cover.jpg" },
      { id: 10, title: "The Hobbit", price: 19.95, genre: "Fantasy", img: "images/books/book10/cover.jpg" },
      { id: 11, title: "The Science of Friendship", price: 11.49, genre: "Non-Fiction", img: "images/books/book11/cover.jpg" },
      { id: 12, title: "The Shadows of Summer", price: 16.00, genre: "Mystery", img: "images/books/book12/cover.jpg" },
      { id: 13, title: "What's Left of Me", price: 18.75, genre: "Drama", img: "images/books/book13/cover.jpg" },
      { id: 14, title: "The Fate of Fausto", price: 10.00, genre: "Children", img: "images/books/book14/cover.jpg" },
      { id: 15, title: "The God of The Woods", price: 14.99, genre: "Mystery", img: "images/books/book15/cover.jpg" },
      { id: 16, title: "The Creative Code", price: 21.00, genre: "Non-Fiction", img: "images/books/book16/cover.jpg" },
      { id: 17, title: "The Color Purple", price: 22.50, genre: "Classics", img: "images/books/book17/cover.jpg" },
      { id: 18, title: "Ramona Blue", price: 13.99, genre: "Romance", img: "images/books/book18/cover.jpg" },
      { id: 19, title: "Pride and Prejudice", price: 9.49, genre: "Classics", img: "images/books/book19/cover.jpg" },
      { id: 20, title: "The Kiss Quotient", price: 12.75, genre: "Romance", img: "images/books/book20/cover.jpg" }
    ];

    const bookGallery = document.getElementById('bookGallery');
    const searchBar = document.getElementById('searchBar');

    function getGenreFromUrl() {
      const params = new URLSearchParams(window.location.search);
      return params.get('genre') || '';
    }

    function renderBooks(filter = '', genre = '') {
      bookGallery.innerHTML = '';
      const filteredBooks = books.filter(book =>
        book.title.toLowerCase().includes(filter.toLowerCase()) &&
        (genre ? book.genre.toLowerCase() === genre.toLowerCase() : true)
      );

      if (filteredBooks.length === 0) {
        bookGallery.innerHTML = '<p class="no-results">No books found.</p>';
        return;
      }

      filteredBooks.forEach(book => {
        const bookCard = document.createElement('div');
        bookCard.className = 'book-card';
        bookCard.innerHTML = `
          <img src="${book.img}" alt="${book.title}">
          <div class="book-title">${book.title}</div>
          <div class="book-price">$${book.price.toFixed(2)}</div>
          <button class="add-cart" data-id="${book.id}">Add to Cart</button>
        `;
        bookGallery.appendChild(bookCard);
      });

      document.querySelectorAll('.add-cart').forEach(button => {
        button.addEventListener('click', () => addToCart(parseInt(button.dataset.id)));
      });
    }

    function addToCart(bookId) {
      const book = books.find(b => b.id === bookId);
      if (!book) return;
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const cartItem = cart.find(item => item.id === bookId);
      if (cartItem) cartItem.quantity++;
      else cart.push({ ...book, quantity: 1 });
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
    }

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('cartCount').textContent = totalItems;
    }

    searchBar.addEventListener('input', e => renderBooks(e.target.value, getGenreFromUrl()));

    window.addEventListener('load', () => {
      updateCartCount();
      renderBooks('', getGenreFromUrl());
    });
  </script>
  <script src="auth.js"></script>

</body>
</html>












